/* (c) CiggBit. All rights reserved.
 * See license.txt for more information
 */
 
#ifndef AOD_Engine_H_
#define AOD_Engine_H_
#pragma once

//#include <windows.h>

#include <SDL.h>
#include <glew/glew.h>
#include <SDL_opengl.h>
#include <SDL_Mixer.h>
#include <map>

#include <gl/glu.h>
#include <IL/il.h>
#include <IL/ilu.h>
#include <IL/ilut.h>

#include "Camera.h"
#include "Console.h"
#include "Input.h."
#include "Object.h"
#include "Sounds.h"
#include "Realm.h"
#include "Text.h"
#include "Utility.h"
#include "Vector.h"

// I abstract AOD_Engine related things under namespace AOD_Engine.
// I left it so you could still manipulate these namespaces if
// you wanted, I just wanted to make sure that if you mess with
// anything under AOD_Engine, you better know what you are doing.

// Things that aren't (or at least shouldn't) be crash-prone
// and pretty safe and easy to utilize are under the AOD namespace.
// They should give proper output when errors occur but will try
// its very best to never crash the program.
//class AOD::Text;



namespace AOD_Engine { // inner works
  extern SDL_Window* screen;
  extern std::vector<GLuint> images;
  extern Uint32 ms_dt;
  extern int start_ticks;
  extern bool started;
  extern float fps[20];
  // only applies to the console when TYPE_DEBUG_IN
  void Debug_Output(std::string);
}

namespace AOD { // ART OF DWARFICORN
  extern AOD_Engine::Realm* realm;

  void Initialize(int window_width,int window_height, Uint32 MS_DT = 10,
                  char* window_name = "", char* icon = "");
  void Initialize_Console(bool debug, SDL_Keycode key, std::string cons_bg = "");
  void Run();
  void Reset();
  void End();
  void Change_MSDT(Uint32);

  void Add(AOD::Object*,int layer = 0);
  void Add(AOD::Text*);
  void Remove(AOD::Object*);
  void Remove(AOD::Text*);
  void Set_BG_Colour(GLfloat r, GLfloat g, GLfloat b);

  // returns amount of ms that elapses per frame
  float R_MS();
  // performs: (R_MS * x)/1000. To_MS(20) will return the amount of units
  // per frame required to reach 20 in 1 second. Useful for timing frames,
  // velocities, etc.
  float To_MS(float x);

  void Output(std::string);

  // if this isn't nullptr, this will update the string contents to the current
  // FPS display. You still have to add this to the world(!)
  extern AOD::Text* fps_display;
}


/*
,,,,,,,,,,,,,,,,,,,,,,:::::::::::::,,,,,,,,,,,,,,,,,,,,,,,,::::::::::::;;;;:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,..,,,,,:::::::::::::::::::,,,,,,,,,,,,,,,,,:::::::::::;';;;:,,,,,,,,,,,,,,,,,,::::,,,,,,,,,,,,,
,,,,,,,,,,,,,,.....,,,,::::;;;;;::;;;;;;::::::,,,,,:::::::::::';;;;:,,:,,,,,,,,,,,,,,,,,,,,,,,::;;;::::,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,:::::;;;;::;;;;;::::::::::::,,,,,,,,:;;;;''::,,,,,,,,,,,,,,,,,,,,,,,,,,,:::;;::,:,,,,,,,
,,,:::::,,,,,,::::::::::;;;;;;;;;;;;;;:,,,,,,,::;;;;;;;;;;;;;;;:::,,,,,,,,:::::;''';;;:::::,,,,,,,::;;;;:::,,,,
,,:,::::,,,:,,,,::::::::;;;;;;;;;;;;::,,,,,,,,::;;;;;;;;;;;;;;;:,,,,,,,,,,::,,;;;;'''';;;;;:,,,,,,,:;;;;;;,:,,,
::;;;;::::;';;;;'';:::::::::::;;;;;:,,,,,,,,,,::;;;;;;;;;;;;;;,,,,,,,,,,::;;;;;;;;:';;''###'++''''';;;;;;;;:::,
::;;::,;;;;;''';;;'';;;;'';;;;;;;;;,,,,,,,,,::::;;;;;;;;;;;;;;:,,,,,,,,,::;':::;''::;;'+++++'''''''';;;;;;;;::,
;;;;;;;'''';'''';;;'''#+''+''';;::,,,,,,,,::;;;;;;;;;;;;;;;;;;;:,,::;;';'';::::'''++''+###+'''#'''''''''''';;;:
;;;;;;'''':;'''';;;'+++#'''''';;::,,,,,,::::;;;;;;;;;;;;;;;;''::,,:;;;'''';::::'+++++++###+''''''''''''''';;:::
;;;;'';::::;''++''''++'''''';;::,,,,,,,,:::;;;;;;;;;;;;;;;;::::::::;;;''''''''''''++'''''';;'''''''''''''';;;;;
;;;''';:,,:'''#'''''''';;;;'::,,,,,,,,,,,,:;;;;;;;;;;;;;;;;::::::::;'''''';''''''''''''';;;''''''''''''''';;;;;
;;;''''''''';;';'';;;;;;;;:,,,,,,,,,,,,,,,::::;;;;;;;;;;;;;;::::::::::,,::,;;;;''';;;;;;;;;;;;;;,,;;;;;;;;,,,,,
;;;'''';;;'';;;;;;;;;;;;::,,,,,,,,,,,,,,:::::::';;;;;;;;;;;;;;,:::::::,,,,::::';;;;;;;;::::::::::::;;;';::,,,,,
::;;;;;,::::,,,::::;;;;:,,,,,,,,,,,,,,,,,,,,,,,:,,,,,,,,,,:;;;;;''::::::::,,,,,:,,;;;;;;:::::::::::::::,,,,,,,,
:::;;;;:::::::::::;;;;;,,,,,,,,,,,,,,,,,,,,,,,,,:::,,,::::::;;;;;;;,:::::::,,,,,,,::;;;;;;::::::,,,,,,,,,,,,,,,
:::,,,::::::::::;;;;;;';::,,,,,,,,,,,,,,::::'''''';;;;;';;:::::;;;;;''::,,,,,,,,,,,,,,,:::,,,,,,,,,,,,,,::::::,
,,,,::::::,,:::;;;;;'''';;,,,,,,,,,,,,,,;;;';;''''''''';;;;:,,,;;;;';;;:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,::::::::
,,,,,,,,,,,,,,;;;;:;'''''''';;:::::''';'''''''#+#######''''''';;;;;'''';:::,,,,,,,,,,,,,,,,,,,,::::::::::::::::
,,,,,,,,,,,:::;;;;;;'''''''';;;;;;;;'''''''''''###+###++++''''';;;''''';;;::,,,,,,,,,,,,,,,,,,,,::::::::::,::::
,,::::::::::::;;;;;;'''''''''''''''''''''''''''''''++++++++#''''''''''';;;;;:::,,,,,,,,,,,,,,,,,,,:::::;;;;;;;;
:::::::::::,:::;;;;;;;;'''''''''''''''''''''''''''''''''###+''''''''''';'':;:::,,,,,,,,,,,,,,,,,,,,::::;;;;;;;;
::::::::,,,,,,::;;;;;;;;'''+++'''';;;;;''''+''''''''''''''''''''''''''';::,:::;;::,,,,,,,,,,,,,,,,,,::::;;;;;;;
:::::::,,,,,,,:;;;;;;;;'''+++++''';;;;;'''+++++'''''''''''''''''''''++':,,,,:::;:::,,,,,,,,,,,,,,,,,::::;;;;;;;
::::::,,,,,:::::::;;'''''''''''''''';;;;;;';++++######+''''''''';;;,,,,,,,,,,,,:::::::,,,,,,,,,,,,,,,,::::;;;;;
::::,,,,,,,:::::::;;'';;;;''''''++'';;;;;;;'''++++##++++++'''';;;;:,,,,,,,,,,,,,::;::::,,,,,..,,,,,,,,,:::;;;;;
:::,,,,,:::;::;;;;;;;;;;;;;'''''''';;;;;;;;;;;;;;;+++++++++#++';;;:,,,,,...,,,,,,,::::::,,,,,,,,,,,,,,,,::::;;;
:::,,,,::::;;;;;;;;;;;;;;;''''''''';;;;;;;;;;;;;;;'+++#+++##+++';;;,,,,,,,,,,,,,,,,:::::::,,,,,,,,,,,,,,,,::;;;
,,,,,,::;;;;;;';;;;;;;;;''''''''''';;;;;;;;;;;;;;;;;+++'''''+++####+'''';;:,,,,,,,,,,,::::::::,,,,,,,,,,,,,,:::
,,,,::,;;;;''';;;;;;;;;''';;;;++'';;''';;;;;;;;;;;;''''''';'''++###+++'''';;,,,,..,,,,,,,,::,,,:,,,,,,,,,,,,:::
,,,:'';'''';;;;;;;;;;;''++++++++++++++++''''''';;;;;;;;;;;;;;;';''+++++++++''''''''''''''''''';;''':,,,,,,,,,,:
::,;;;''''';;;;;;;;;'';++++++++++++++++++++;;;'';;;;;;;;;;;;;;;;''''''++++++'''++++++++'''''''''''';,,:,,,,,,,:
;;;'''';;;;;;;;;;;''++++++#++++++++++++++++++++''''''''''';;;;;;;;;;;;;';;'';;;;;;'++++++++++++###+''';':::,,,,
'''';;;;;;;;;;;;'';+++++++++++++++++++++++++++++++;'''''''';;;;;;;;;;;;;'''''''';;'''''+++++++++++++''';;;,,,,,
;;;;;;;;;;;;;;''++++##++++++++''''++++++++++++++++++''''''''''';;;;;;;;;;;;''''''';;;;'''''+++++++++++#+'';;::,
;;;;;;;;;;;;''+++++++++#++'''''''''''''+++++++++++++++';'''''''''''''''';;;'''''''';;;;;''''++++++++++++''';,,:
;;;;;;;;''''++++##+++++'''''''''''';;;;;;;''''++++++++++++'''''''''''''''''''''''''''';;;;'''';+++++++++##+';;'
;;;;;;;';;'+++++++++##'''''+''''''''::::::::''''''''++++++++++++++++++';;;''''''''';''';;;;;''''++++++++++++'';
;;'''''+++++##++++'''''';;';:::,,,.....   ......,,::::;''''++++########++++++++'''++++'';;;;;;;''''+++++++++##+
;;;+++++++++###+''''++''''::::.,......         .......::::'''''+###########++++++++++++'''';;;;;''''+++++++++++
++++++++++++'''''';;:::,,,,,,,....,.:::::::,..,:::,:::,,::,::::'''';;;;;''''++++++++++++'''''';;;;;'''+++++++++
+++++++++++''''+'';::::,,,::,,,,,,,:::;;::::::::::::::::::::::';;;'''';'''''''''++'+++++++;'''';;;;'''++##+++++
+++++++####+'';:,,,,:::;'''+++++++++++#########'''++++++''''++'''''+''''''';::::::''''++##++'''''''''''++++++++
+++++++####+'';,,,..::::''''++++########++##+++++++++++''''''''''''''''''''';;;:::;'''++++++++;'''''''''+++++++
##++''''++##'''::::::::''''++++++++++++++++###+########################################++++#++++''''''''''+++++
##''''''++####';;;::;;;''''+++++++++++++##############################################++++++++++++;'''''''++##+
'''''''+#######+''##########++##############################++++++++++++##################+++++#+++''''''';++++
'';'''++#######+++##########++#########################+++##''''''''''''####++#################++++'''''''''+++
;;''''++############++++++++++++++#############+++++++'''''';;;;;;;;;;;;;;'''''+++#####+''';;;''++#+++'''''''''
''''''#+++#########+###'''''''''''#########+++#####''''''';;;;;;;;;;;;;;;;''''''+++#####'';:::''''#++++;'''''''
'''''''++++#####+++''';;;;;;;;;;;;;''''++++''''''';;;;;;;;;;;;;;;;;''''''''''''+++++++'';;;::::,;;'+++++'''''''
''''''''+++#####+++';;;;;;;;;;;;;;;;;;'''''''';;;;;;;;;;;;;;;;;;'''''''''''''''###'''''';;::::::;;;'++++++'''''
''''''''''++######+'''';;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;''''''''''''''''''''''''';;;:,,,,:::,;''+++++''''
'''''''''''+++####++'''''';;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;'''''''++'''''''''''''''''';;:::,,,,,:::;;;'+++++;;'
;;''''''''''++++++++'''''''''''''';;;;;;;;;;;;;;;;;;;;''''''''''''''''''''''''''''';;;,:::,,,,::::::;;;'+++++++
;;'''''''''''''####+''++++''''''''''''';;;;;;;;;;;;''''''''''''''''''''''''''''''';':::,,,,,::::::::::;'++#++++
,,;''''''''''''''''''''''''''''''''''''''''';;;;;;;;;;;;;;::;;;;;;;;'''''''''';;::,:,,,,::::::::::::;;;'''+++++
:::;'''''''''''''''''''''''''''''''''';;;;;;;;;;;;;:::::::::;;;;;;;;''''''';;;;:::,,,,,:::::::;;::::;;;'''+++++




stdlib: i'll put in Doctor_Ted gave me support or something
Docter_Ted: *Docter
Docter_Ted: get it right
Docter_Ted: scrub
Docter_Ted: jk
Docter_Ted: luv u

*/

#endif